                      Navigator.of(context).push(
                        SlidePageRoute(
                          page: Filter(),
                          direction: SlideDirection.right,
                        ),
                      );


                                  RichText(
                      text: TextSpan(
                        children: [
                          TextSpan(
                            text: 'Name: ',
                            style: TextStyle(
                              fontSize: 14,
                              color: Color(0xFF616161),
                            ),
                          ),
                          TextSpan(
                            text: 'Himal Hasan',
                            style: TextStyle(fontSize: 14, color: Colors.black),
                          ),
                        ],
                      ),
                    ),


                               Row(
                  spacing: 15,
                  mainAxisAlignment: MainAxisAlignment.end,
                  children: [
                    SizedBox(height: 20),
                    Expanded(
                      child: ButtonEv(
                        title: 'Cancle',
                        textColor: AppColors.colorRed,
                        isBorder: true,
                        borderColor: AppColors.colorRed,
                      ),
                    ),
                    Expanded(
                      child: ButtonEv(
                        title: 'Add Expense',
                        colorData: AppColors.Colorprimary,
                      ),
                    ),
                    SizedBox(height: 20),
                  ],
                ),


                search with Filter
                
                Container(
              color: AppColors.Colorprimary,
              width: double.infinity,
              padding: EdgeInsets.symmetric(horizontal: 16, vertical: 0),
              child: Row(
                spacing: 30,
                mainAxisAlignment: MainAxisAlignment.spaceBetween,
                children: [
                  Expanded(
                    child: TextField(
                      decoration: InputDecoration(
                        hint: Text(
                          'Search',
                          style: TextStyle(
                            fontSize: 12,
                            fontWeight: FontWeight.w400,
                            color: AppColors.Colorprimary,
                          ),
                        ),
                        suffixIcon: Icon(
                          Icons.search,
                          size: 25,
                          color: AppColors.Colorprimary,
                        ),
                        filled: true,
                        fillColor: Colors.white,
                        enabledBorder: OutlineInputBorder(
                          borderRadius: BorderRadius.circular(4),
                          borderSide: BorderSide.none,
                        ),
                        focusedBorder: OutlineInputBorder(
                          borderSide: BorderSide.none,
                          borderRadius: BorderRadius.circular(4),
                        ),
                        contentPadding: const EdgeInsets.symmetric(
                          vertical: 13,
                          horizontal: 11,
                        ),
                      ),
                      style: const TextStyle(
                        fontSize: 14, // match your design
                      ),
                    ),
                  ),

                  GestureDetector(
                    onTap: () {
                      Navigator.of(context).push(
                        SlidePageRoute(
                          page: Filter(),
                          direction: SlideDirection.right,
                        ),
                      );
                    },
                    child: SvgPicture.asset(
                      'assets/images/icons/filter.svg',
                      height: 28,
                      width: 24,
                      color: Colors.white,
                    ),
                  ),
                ],
              ),
            ),


          //  for infinit scrolling
            final ScrollController _scrollController = ScrollController();
int page = 0;
bool isLoadingMore = false;
bool noMoreData = false;

@override
void initState() {
  super.initState();

  _scrollController.addListener(() {
    if (_scrollController.position.pixels ==
        _scrollController.position.maxScrollExtent) {
      loadMore();
    }
  });

  getposItems(); // first page
}

Future<void> getposItems() async {
  page = 0;
  noMoreData = false;
  setState(() => isloading = true);

  final response = await Getposproductlist.getPosProductList(page);

  setState(() {
    posItems = response;
    isloading = false;
  });
}
Future<void> loadMore() async {
  if (isLoadingMore || noMoreData) return;

  isLoadingMore = true;
  page = page + 1;

  final response = await Getposproductlist.getPosProductList(page);

  if (response.isEmpty) {
    noMoreData = true;
  } else {
    setState(() {
      posItems.addAll(response);
    });
  }

  isLoadingMore = false;
}
RefreshIndicator(
  onRefresh: getposItems,
  child: AlignedGridView.count(
    controller: _scrollController,
    physics: AlwaysScrollableScrollPhysics(),
    crossAxisCount: 2,
    mainAxisSpacing: 4,
    crossAxisSpacing: 4,
    itemCount: posItems.length,
    itemBuilder: (context, index) {
      return Productcard(
        posItems: posItems[index],
        addfuntion: (e) {
          addItemToCart(e);
        },
        addremovefuntion: (e) {
          incrementAddedItemToCart(e);
        },
      );
    },
  ),
)



